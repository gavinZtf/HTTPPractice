<?xml version="1.0" encoding="UTF-8" ?>
<Configuration monitorInterval="30">

<Appenders>
	<Console name="stdout" target="SYSTEM_OUT">
		<PatternLayout pattern="%date{DEFAULT} |%-20.20thread |%-30.30logger{1}|%level{length=1}| %message%n"/>
	</Console>
	
	<RollingFile name="ofbiz" fileName="D://ofbiz.log" filePattern="-%d{yyyy-MM-dd}-%i.log">
		<PatternLayout pattern="%date{DEFAULT} |%-20.20thread |%-30.30logger{1}|%level{length=1}| %message%n"/>
        <Policies>
			<TimeBasedTriggeringPolicy/>
			<SizeBasedTriggeringPolicy size="1 MB"/>
        </Policies>
        <DefaultRolloverStrategy max="10"/>
	</RollingFile>
	
	<RollingRandomAccessFile name="RollingFile"
							 fileName="D://ofbiz2.log"
							 filePattern="D://ofbiz2-%d{yyyy-MM-dd-HH-mm}.log">
		<PatternLayout pattern="%date{yyyy-MM-dd HH:mm:ss.SSS} %-5level %logger{36}.%M@%L - %msg%n"/>
            <Policies>
                <TimeBasedTriggeringPolicy interval="1" modulate="true"/>
                <!-- <SizeBasedTriggeringPolicy size="200 MB"/> -->
            </Policies>
         <DefaultRolloverStrategy max="100"/>
	</RollingRandomAccessFile>
	
	<RollingFile name="error" fileName="D://error.log" filePattern="D://error-%d{yyyy-MM-dd}-%i.log">
		<ThresholdFilter level="error" onMatch="ACCEPT" onMismatch="DENY"/>
		<PatternLayout pattern="%date{DEFAULT} |%-20.20thread |%-30.30logger{1}|%level{length=1}| %message%n"/>
		<Policies>
			<TimeBasedTriggeringPolicy/>
 			<SizeBasedTriggeringPolicy size="1 MB"/>
		</Policies>
		<DefaultRolloverStrategy max="3"/>
	</RollingFile>
	
	<Async name="async">
		<AppenderRef ref="ofbiz"/>
		<AppenderRef ref="stdout"/>
		<AppenderRef ref="RollingFile"/>
		<AppenderRef ref="error"/>
	</Async>
</Appenders>

<Loggers>
	<!-- <logger name="org.apache" level="warn"/>
	<logger name="org.apache.ofbiz" level="all"/>
	<logger name="org.apache.ofbiz.base.converter.Converters" level="warn"/>
	<logger name="freemarker" level="warn"/> -->

	<Root level="all">
		<AppenderRef ref="async"/>
	</Root>
</Loggers>

</Configuration>